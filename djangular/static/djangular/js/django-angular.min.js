// AUTOGENERATED FILE - DO NOT EDIT!
// django-angular - v0.7.16 - 2016-02-01
// https://github.com/jrief/django-angular
// Copyright (c) 2016 Jacob Rief; Licensed 
!function(a,b){"use strict";function c(a){return function(){return{restrict:a?"EAC":"E",require:"form",link:{pre:function(a,b,c,d){var e,f=d.$addControl;d.$addControl=function(a){f(a),e=e||[],-1===e.indexOf(a)&&e.push(a)};var g=d.$removeControl;d.$removeControl=function(a){g(a),e&&-1!==e.indexOf(a)&&e.splice(e.indexOf(a),1)},d.djngSetValidFieldsPristine=function(){for(var a,b=0,c=e.length;c>b;b++)a=e[b],a.$valid&&a.$setPristine()}}}}}}function d(a){return{restrict:"A",require:["?^form","?ngModel"],link:function(b,c,d,e){var f=e[0],g=e[1];"bound-msgs-field"===d.djngError&&f&&g&&(c.removeAttr("djng-error"),c.removeAttr("djng-error-msg"),a(function(){g.$message=d.djngErrorMsg,g.$validate(),f.$setSubmitted()}))}}}function e(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e&&"validator"===d.djngRejected){var f=!1,g=null;e.$validators.rejected=function(a){return f&&g!==a?(f=!1,g=null,e.$message=b):(f=!!e.$message,f&&(g=a)),!f}}}}}function f(){function c(a,b){return d(a),e(a,b),g(b)}function d(a){a.$message=b}function e(b,c){b.$setSubmitted(),a.forEach(c,function(c,d){var e,g=c[0];d==h?(b.$message=g,b.djngSetValidFieldsPristine()):b.hasOwnProperty(d)&&(e=b[d],e.$message=g,f(e)?e.$validate():(e.$setSubmitted(),a.forEach(e,function(a,b){f(a)&&a.$validate()})))})}function f(b){return!!b&&a.isArray(b.$viewChangeListeners)}function g(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}var h="__all__";return{setErrors:c}}a.version.minor<3,a.module("ng.django.angular.messages",["ng.django.forms"]).directive("form",c()).directive("ngForm",c(!0)).directive("djngError",d).directive("djngRejected",e).factory("djngAngularMessagesForm",f)}(window.angular),function(a,b){"use strict";function c(a){return a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)}function d(){return["$compile",function(b){return{restrict:"E",require:"?^form",link:function(d,e,f,g){var h;!g||a.isUndefined(g.$name)||"hidden"===e.prop("type")||a.isUndefined(f.name)||a.isDefined(f.ngModel)||(h="dmy"+Math.abs(c(g.$name))+"."+f.name.replace(/-/g,"_"),f.$set("ngModel",h),b(e,null,9999)(d))}}}]}var e=a.module("ng.django.forms",[]),f=["input","select","textarea","datalist"];a.forEach(f,function(a){e.directive(a,d())}),e.directive("djngError",function(){return{restrict:"A",require:"?^form",link:function(b,c,d,e){var f,g=a.isElement(c)?c[0]:null;g&&e&&!a.isUndefined(d.name)&&"bound-field"===d.djngError&&(f=e[d.name],f.$setValidity("bound",!1),f.$parsers.push(function(a){return a!==g.defaultValue&&(f.$setValidity("bound",!0),c.removeAttr("djng-error")),a}))}}}),e.directive("ngModel",["$log",function(b){function c(a,b){switch(b.type){case"radio":b.defaultChecked&&a.$setViewValue(b.defaultValue);break;case"checkbox":b.defaultChecked&&a.$setViewValue(!0);break;case"password":a.$setViewValue(null);break;default:b.defaultValue&&a.$setViewValue(b.defaultValue)}}function d(b,c){var d=[];a.forEach(c.options,function(e){e.defaultSelected&&(a.element(e).prop("selected","selected"),c.multiple?d.push(e.value):b.$setViewValue(e.value))}),c.multiple&&b.$setViewValue(d)}function e(a,b){b.defaultValue&&a.$setViewValue(b.defaultValue)}return{restrict:"A",priority:1,require:["ngModel","^?form"],link:function(f,g,h,i){var j=a.isElement(g)?g[0]:null,k=i[0],l=i[1]||null;if(j&&l){switch(j.tagName){case"INPUT":c(k,j);break;case"SELECT":d(k,j);break;case"TEXTAREA":e(k,j);break;default:b.log("Unknown field type")}l.$setPristine()}}}}]),e.directive("validateMultipleFields",function(){return{restrict:"A",require:"^?form",link:function(b,c,d,e){function f(c){var d=!1;a.forEach(h,function(a){d=d||a.checked}),e.$setValidity("required",d),c&&(e.$dirty=!0,e.$pristine=!1,b.$apply())}var g,h=[];if(e){try{g=a.fromJson(d.validateMultipleFields)}catch(i){if(!a.isString(d.validateMultipleFields))return;g=[d.validateMultipleFields],e=e[g]}a.forEach(c.find("input"),function(b){g.indexOf(b.name)>=0&&(h.push(b),a.element(b).on("change",f))}),c.on("$destroy",function(){a.forEach(c.find("input"),function(b){a.element(b).off("change")})}),f()}}}}),e.directive("validateDate",function(){function a(a){var b,d;return a?(d=new Date(a),isNaN(d)?!1:c?(b=c.exec(a),b&&parseInt(b[2],10)===d.getMonth()+1):!0):!0}var c=null;return{require:"?ngModel",restrict:"A",link:function(d,e,f,g){if(g){f.validateDate&&(c=new RegExp(f.validateDate,"i"));var h=function(c){var d=g.$isEmpty(c)||a(c);return g.$setValidity("date",d),d?c:b};g.$parsers.push(h)}}}}),e.factory("djangoForm",function(){function b(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function c(a){var b=a.$viewChangeListeners.push(a.clearRejected=function(){a.$message="",a.$setValidity("rejected",!0),a.$viewChangeListeners.splice(b-1,1),delete a.clearRejected})}function d(b){return a.isArray(b.$viewChangeListeners)}var e="__all__";return{setErrors:function(f,g){if(f.$message="",f.$error.hasOwnProperty("rejected")&&a.isArray(f.$error.rejected)){var h=f.$error.rejected.concat();a.forEach(h,function(b){var c,e=b.$name;f.hasOwnProperty(e)&&(c=f[e],d(c)&&c.clearRejected?c.clearRejected():(c.$message="",a.forEach(c,function(a,b){a&&d(a)&&a.clearRejected&&a.clearRejected()})))})}return a.forEach(g,function(b,g){var h;b.length>0&&(g===e?(f.$message=b[0],f.$setPristine()):f.hasOwnProperty(g)&&(h=f[g],h.$message=b[0],h.$setValidity("rejected",!1),h.$setPristine(),d(h)?c(h):a.forEach(h,function(a,b){a&&d(a)&&c(a)})))}),b(g)}}}),e.directive("djngBindIf",function(){return{restrict:"A",compile:function(a){return a.addClass("ng-binding"),function(a,c,d){c.data("$binding",d.ngBind),a.$watch(d.djngBindIf,function(a){a!==b&&null!==a&&c.text(a)})}}}})}(window.angular),function(a,b){"use strict";var c=a.module("ng.django.rmi",[]);c.provider("djangoRMI",function(){function c(d){a.forEach(d,function(f,g){if(!a.isObject(f))throw new Error("djangoRMI.configure got invalid data");f.hasOwnProperty("url")?(f.headers["X-Requested-With"]="XMLHttpRequest",d[g]=function(c){var d=a.copy(f);if("POST"===d.method){if(c===b)throw new Error("Calling remote method "+g+" without data object");d.data=c}else"auto"===d.method&&(c===b?d.method="GET":(d.method="POST",d.data=c));return e(d)}):c(f)})}var d,e;this.configure=function(a){d=a,c(d)},this.$get=["$http",function(a){return e=a,d}]})}(window.angular),function(a,b){"use strict";var c=a.module("ng.django.urls",[]);c.provider("djangoUrl",function(){var a="/angular/reverse/";this.setReverseUrl=function(b){a=b},this.$get=function(){return new d(a)}});var d=function(c){function d(a,b,c){for(var d=e(a),f=0;f<d.length;f++)b.call(c,a[d[f]],d[f]);return d}function e(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function f(c,e){if(!e)return c;var f=[];return d(e,function(c,d){null!==c&&c!==b&&(a.isObject(c)&&(c=a.toJson(c)),f.push(encodeURIComponent(d)+"="+encodeURIComponent(c)))}),c+(-1===c.indexOf("?")?"?":"&")+f.join("&")}this.reverse=function(b,e){var g=f(c,{djng_url_name:b});if(Array.isArray(e))return d(e,function(a){g=f(g,{djng_url_args:a})}),g;var h={};return d(e,function(a,b){h["djng_url_kwarg_"+b]=a}),a.equals(h,{})?g:f(g,h)}}}(window.angular),function(a,b){"use strict";function c(){}var d=a.module("ng.django.websocket",[]);d.service("$websocket",function(){var a;this.connect=function(b){a=new WebSocket(b),a.onopen=this.onopen,a.onmessage=this.onmessage,a.onerror=this.onerror,a.onclose=this.onclose},this.send=function(b){a.send(b)},this.close=function(){a.close()}}),d.provider("djangoWebsocket",function(){var b,d={log:c,warn:c,error:c},e=null,f=a.injector(["ng"]).get("$log");this.setURI=function(a){return b=a,this},this.setHeartbeat=function(a){return e=a,this},this.setLogLevel=function(a){switch(a){case"debug":d=f;break;case"log":d.log=f.log;case"warn":d.warn=f.warn;case"error":d.error=f.error}return this},this.$get=["$websocket","$q","$timeout","$interval",function(c,f,g,h){function i(){d.log("Connecting to "+o),p=f.defer(),c.connect(o)}function j(){try{if(x++,x>3)throw new Error("Too many missed heartbeats.");c.send(e)}catch(a){h.cancel(w),w=null,d.warn("Closing connection. Reason: "+a.message),c.close()}}function k(b,d){u||a.equals(d,b)||c.send(a.toJson(b))}function l(b){a.forEach(b,function(a){"subscribe"===a.substring(0,9)?s=!0:"publish"===a.substring(0,7)&&(t=!0)})}function m(){q.$watchCollection(r,k)}function n(a,c){var d=[b,a,"?"];d.push(c.join("&")),o=d.join("")}var o,p,q,r,s=!1,t=!1,u=!1,v=0,w=null,x=0;return c.onopen=function(a){d.log("Connected"),p.resolve(),v=0,e&&null===w&&(x=0,w=h(j,5e3))},c.onclose=function(a){d.log("Disconnected"),p.reject(),v=Math.min(v+1e3,1e4),g(function(){c.connect(o)},v)},c.onerror=function(a){d.error("Websocket connection is broken!"),c.close()},c.onmessage=function(b){var c;if(b.data===e)return void(x=0);try{c=a.fromJson(b.data)}catch(f){return void d.warn("Data received by server is invalid JSON: "+b.data)}s&&(u=!0,q.$apply(function(){a.extend(q[r],c)}),u=!1)},{connect:function(a,b,c,d){return q=a,l(d),r=b,q[r]=q[r]||{},n(c,d),i(),t&&p.promise.then(m),p.promise}}}]})}(window.angular);